<div class="container">
  <!-- GitHub Banner -->
  <div class="github-banner">
    <a href="https://github.com/user/ai-tts-mp3" target="_blank" class="github-banner-link">
      View on GitHub
    </a>
  </div>

  <!-- Simple Header -->
  <div class="header">
    <h1>ğŸ¤ {{ title() }}</h1>
    <p>Text to MP3 conversion using AI voice APIs</p>
  </div>

  <!-- Main Form -->
  <div class="main-form">
    <!-- Settings Row -->
    <div class="settings-row">
      <select [(ngModel)]="selectedProvider" (change)="onProviderChange()" class="input">
        @for (provider of providers; track provider) {
          <option [value]="provider">{{ provider | titlecase }}</option>
        }
      </select>
      
      <select [(ngModel)]="selectedModel" class="input">
        @for (model of models(); track model) {
          <option [value]="model">{{ model }}</option>
        }
      </select>
      
      <select [(ngModel)]="selectedVoice" class="input">
        @for (voice of voices; track voice) {
          <option [value]="voice">{{ voice | titlecase }}</option>
        }
      </select>
    </div>    <!-- API Key and Generate Button Row -->
    <div class="api-generate-row">
      <input 
        type="password" 
        [(ngModel)]="apiKey" 
        placeholder="API Key"
        class="input api-key">
      
      <button 
        class="generate-btn"
        (click)="generateSpeech()"
        [disabled]="!canGenerate()">
        @if (isProcessing()) {
          <span class="spinner"></span> Generating...
        } @else {
          ğŸš€ Generate Speech
        }
      </button>
    </div>

    <!-- Code Editor Style Text Input -->
    <div class="editor-container">
      <div class="editor-header">
        <span class="editor-title">ğŸ“ text-to-speech.txt</span>
        <span class="editor-info">{{ getLineCount() }} lines | {{ getCharCount() }} chars</span>
      </div>
      <div class="editor-wrapper">
        <div class="line-numbers">
          @for (line of getLineNumbers(); track $index) {
            <div class="line-number">{{ line }}</div>
          }
        </div>        <textarea 
          [value]="inputText()"
          (input)="onTextChange($event)"
          placeholder="Enter text to convert to speech..."
          class="editor-textarea"
          [disabled]="isProcessing()"
          spellcheck="false"></textarea>
      </div>    </div>

    <!-- Results -->
    @if (currentResult() && currentResult()?.status === 'completed') {
      <div class="results">
        <button class="result-btn play" (click)="playAudio()">â–¶ï¸ Play</button>
        <button class="result-btn download" (click)="downloadAudio()">ğŸ’¾ Download</button>
        <button class="result-btn clear" (click)="clearResult()">ğŸ—‘ï¸ Clear</button>
      </div>
    }

    <!-- Status -->
    @if (statusMessage()) {
      <div class="status" 
           [class]="currentResult()?.status">
        {{ statusMessage() }}
      </div>
    }    @if (errorMessage()) {
      <div class="error">{{ errorMessage() }}</div>
    }
  </div>
</div>
